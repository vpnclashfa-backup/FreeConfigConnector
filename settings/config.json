{
  "_comment_": "این فایل شامل تنظیمات اصلی برنامه است. لطفا فقط مقادیر (مثلا عدد یا true/false یا متن داخل گیومه) را تغییر دهید و ساختار کلی را دستکاری نکنید.",

  "telegram_api": {
    "_comment_": "تنظیمات مربوط به API تلگرام. API_ID و API_HASH را از my.telegram.org دریافت کنید. توصیه میشود این مقادیر را به عنوان متغیر محیطی (Environment Variable) تنظیم کنید.",
    "api_id": 0,
    "api_hash": ""
  },

  "collection_settings": {
    "_comment_": "تنظیمات مربوط به جمع آوری لینک ها.",
    "active_protocols": [
      "_comment_": "لیست پروتکل هایی که برنامه باید لینک های آنها را جمع آوری کند. اگر پروتکلی را نمیخواهید، آن را از لیست حذف کنید یا با کامنت کردن غیرفعال کنید (با اضافه کردن // در ابتدای خط).",
      "http",
      "socks5",
      "ss",
      "ssr",
      "vmess",
      "vless",
      "trojan",
      "mieru",
      "snell",
      "anytls",
      "hysteria",
      "hysteria2",
      "tuic",
      "wireguard",
      "ssh",
      "reality",
      "warp",
      "juicity"
    ],
    "telegram_message_lookback_days": 7,
    "_comment_": "چند روز اخیر پیام های کانال های تلگرام را بررسی کند. (مثال: 7 به معنای 7 روز گذشته)",
    "telegram_max_messages_per_channel": 500,
    "_comment_": "حداکثر تعداد پیام برای بررسی در هر کانال تلگرام. (مقدار None برای عدم محدودیت - مراقب باشید!)",
    "collection_timeout_seconds": 15,
    "_comment_": "حداکثر زمان انتظار (بر حسب ثانیه) برای دریافت پاسخ از یک URL در هنگام جمع آوری از وب."
  },

  "parser_settings": {
    "_comment_": "تنظیمات مربوط به تشخیص و استخراج کانفیگ ها از محتوای جمع آوری شده.",
    "enable_base64_decoding": true,
    "_comment_": "آیا محتوای base64 را برای یافتن لینک ها رمزگشایی کند؟",
    "enable_clash_parser": true,
    "_comment_": "آیا محتوای YML/Text را برای یافتن کانفیگ های Clash/بر اساس URL (Subscription) پارس کند؟",
    "enable_singbox_parser": true,
    "_comment_": "آیا محتوای JSON/Text را برای یافتن کانفیگ های SingBox/بر اساس URL (Subscription) پارس کند؟",
    "enable_json_parser": true,
    "_comment_": "آیا محتوای JSON را به صورت عمومی برای یافتن لینک ها و اطلاعات مرتبط پارس کند؟",
    "ignore_unparseable_content": false,
    "_comment_": "اگر محتوا قابل پارس کردن نبود، آیا آن را نادیده بگیرد (true) یا یک هشدار ثبت کند (false)؟"
  },

  "discovery_settings": {
    "_comment_": "تنظیمات مربوط به کشف منابع جدید (کانال‌ها، وب‌سایت‌ها) به صورت پویا.",
    "enable_telegram_channel_discovery": true,
    "_comment_": "آیا کانال‌های جدید را از لینک‌ها، تگ‌ها و فورواردها در پیام‌های تلگرام کشف کند؟",
    "enable_config_link_discovery": true,
    "_comment_": "آیا لینک کانال‌ها/وب‌سایت‌های جدید را از داخل مشخصات کانفیگ‌ها (مثل نام یا metadata) کشف کند؟",
    "max_discovered_sources_to_add": 50,
    "_comment_": "حداکثر تعداد منابع جدید کشف شده (کانال/وب‌سایت) که به لیست منابع اضافه می‌شوند در هر بار اجرا. (0 برای عدم محدودیت)"
  },

  "source_management": {
    "_comment_": "تنظیمات مربوط به مدیریت و لیست سیاه/سفید منابع.",
    "max_timeout_score_telegram": -50,
    "_comment_": "حداقل امتیاز برای یک کانال تلگرام تا وارد لیست تایم‌اوت شود. (امتیاز کمتر از این، منجر به تایم‌اوت موقت می‌شود).",
    "max_timeout_score_web": -10,
    "_comment_": "حداقل امتیاز برای یک وب‌سایت تا وارد لیست تایم‌اوت شود. (امتیاز کمتر از این، منجر به تایم‌اوت موقت می‌شود).",
    "timeout_recovery_duration_days": 30,
    "_comment_": "مدت زمان (بر حسب روز) که یک منبع باید در حالت تایم‌اوت بماند تا بتواند دوباره فعال شود.",
    "blacklist_telegram_channels": [],
    "_comment_": "لیست کانال‌های تلگرامی که هرگز نباید بررسی شوند. (مثال: [\"@badchannel\", \"@spam_channel\"])",
    "blacklist_websites": [],
    "_comment_": "لیست وب‌سایت‌هایی که هرگز نباید بررسی شوند. (مثال: [\"https://badsite.com/\"])",
    "whitelist_telegram_channels": [],
    "_comment_": "فقط کانال‌های تلگرامی در این لیست بررسی می‌شوند. اگر این لیست خالی باشد، همه کانال‌ها بررسی می‌شوند. (مثال: [\"@my_trusted_channel\"])",
    "whitelist_websites": [],
    "_comment_": "فقط وب‌سایت‌های در این لیست بررسی می‌شوند. اگر این لیست خالی باشد، همه وب‌سایت‌ها بررسی می‌شوند."
  },

  "proxy_limits": {
    "_comment_": "محدودیت تعداد پروکسی ها برای ذخیره سازی (برای مراحل بعدی که پروکسی ها ذخیره می شوند).",
    "max_total_proxies": 1000,
    "_comment_": "حداکثر تعداد کل پروکسی های منحصر به فرد برای ذخیره سازی در تمام پروتکل ها.",
    "max_proxies_per_protocol": {
      "_comment_": "حداکثر تعداد پروکسی برای هر پروتکل به صورت جداگانه.",
      "http": 100,
      "socks5": 100,
      "ss": 100,
      "ssr": 100,
      "vmess": 100,
      "vless": 100,
      "trojan": 100,
      "hysteria": 50,
      "hysteria2": 50,
      "tuic": 50,
      "wireguard": 50,
      "ssh": 50,
      "reality": 50,
      "warp": 50,
      "juicity": 50
    }
  },

  "file_paths": {
    "_comment_": "مسیر فایل ها و پوشه ها. این مقادیر را تغییر ندهید مگر اینکه ساختار پوشه را تغییر داده باشید.",
    "sources_dir": "sources",
    "output_dir": "output",
    "channels_file": "channels.txt",
    "websites_file": "websites.txt",
    "collected_links_file": "collected_links.json",
    "discovered_telegram_channels_file": "discovered_telegram_channels.txt",
    "_comment_": "فایلی برای ذخیره کانال‌های تلگرام کشف شده جدید",
    "discovered_websites_file": "discovered_websites.txt",
    "_comment_": "فایلی برای ذخیره وب‌سایت‌های کشف شده جدید",
    "timeout_telegram_channels_file": "timeout_telegram_channels.json",
    "_comment_": "فایلی برای ذخیره کانال‌های تلگرام که به دلیل خطاهای مکرر تایم‌اوت شده‌اند",
    "timeout_websites_file": "timeout_websites.json",
    "_comment_": "فایلی برای ذخیره وب‌سایت‌هایی که به دلیل خطاهای مکرر تایم‌اوت شده‌اند"
  }
}
